-- Steal a Brainrot GUI Script
-- Clean Build | Mobile Friendly | Respawn Safe

local Players = game:GetService("Players")
local UIS = game:GetService("UserInputService")
local LP = Players.LocalPlayer

-- STATES
local speedOn = false
local infJump = false
local speedValue = 16

-- GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "BrainrotGUI"
ScreenGui.Parent = game.CoreGui

local Main = Instance.new("Frame", ScreenGui)
Main.Size = UDim2.new(0, 280, 0, 260)
Main.Position = UDim2.new(0.5, -140, 0.5, -130)
Main.BackgroundColor3 = Color3.fromRGB(12,12,12)
Main.Active = true
Main.Draggable = true
Instance.new("UICorner", Main).CornerRadius = UDim.new(0,16)

local stroke = Instance.new("UIStroke", Main)
stroke.Color = Color3.fromRGB(0,255,140)
stroke.Thickness = 1
stroke.Transparency = 0.5

-- TITLE
local Title = Instance.new("TextLabel", Main)
Title.Size = UDim2.new(1,0,0,40)
Title.BackgroundTransparency = 1
Title.Text = "STEAL A BRAINROT"
Title.TextColor3 = Color3.fromRGB(0,255,140)
Title.Font = Enum.Font.GothamBold
Title.TextSize = 18

-- UI LIST
local Layout = Instance.new("UIListLayout", Main)
Layout.Padding = UDim.new(0,10)
Layout.HorizontalAlignment = Enum.HorizontalAlignment.Center
Layout.VerticalAlignment = Enum.VerticalAlignment.Top
Layout.FillDirection = Enum.FillDirection.Vertical
Layout.SortOrder = Enum.SortOrder.LayoutOrder
Layout.Parent = Main
Layout:GetPropertyChangedSignal("AbsoluteContentSize")

Title.LayoutOrder = 1

-- CONTAINER
local Container = Instance.new("Frame", Main)
Container.Size = UDim2.new(1,-20,1,-60)
Container.BackgroundTransparency = 1
Container.LayoutOrder = 2

local CLayout = Instance.new("UIListLayout", Container)
CLayout.Padding = UDim.new(0,10)
CLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
CLayout.Parent = Container

-- BUTTON TEMPLATE
local function createButton(text)
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(1,0,0,40)
    btn.BackgroundColor3 = Color3.fromRGB(30,30,30)
    btn.Text = text
    btn.TextColor3 = Color3.fromRGB(255,255,255)
    btn.Font = Enum.Font.GothamBold
    btn.TextSize = 14
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0,10)
    return btn
end

-- SPEED TOGGLE
local SpeedBtn = createButton("Speed: OFF")
SpeedBtn.Parent = Container

-- SPEED SLIDER FRAME
local SliderFrame = Instance.new("Frame", Container)
SliderFrame.Size = UDim2.new(1,0,0,50)
SliderFrame.BackgroundTransparency = 1

local SliderBar = Instance.new("Frame", SliderFrame)
SliderBar.Size = UDim2.new(1,0,0,8)
SliderBar.Position = UDim2.new(0,0,0.5,-4)
SliderBar.BackgroundColor3 = Color3.fromRGB(30,30,30)
Instance.new("UICorner", SliderBar).CornerRadius = UDim.new(0,10)

local SliderFill = Instance.new("Frame", SliderBar)
SliderFill.Size = UDim2.new(0,0,1,0)
SliderFill.BackgroundColor3 = Color3.fromRGB(0,255,140)
Instance.new("UICorner", SliderFill).CornerRadius = UDim.new(0,10)

local SliderBtn = Instance.new("TextButton", SliderBar)
SliderBtn.Size = UDim2.new(1,0,1,0)
SliderBtn.BackgroundTransparency = 1
SliderBtn.Text = ""

-- INF JUMP BUTTON
local JumpBtn = createButton("Infinite Jump: OFF")
JumpBtn.Parent = Container

-- FUNCTIONS
local function getHumanoid()
    local char = LP.Character
    if char then
        return char:FindFirstChildOfClass("Humanoid")
    end
end

-- SPEED TOGGLE
SpeedBtn.MouseButton1Click:Connect(function()
    speedOn = not speedOn
    if speedOn then
        SpeedBtn.Text = "Speed: ON"
        SpeedBtn.BackgroundColor3 = Color3.fromRGB(0,255,140)
        SpeedBtn.TextColor3 = Color3.fromRGB(0,0,0)
    else
        SpeedBtn.Text = "Speed: OFF"
        SpeedBtn.BackgroundColor3 = Color3.fromRGB(30,30,30)
        SpeedBtn.TextColor3 = Color3.fromRGB(255,255,255)
        local hum = getHumanoid()
        if hum then hum.WalkSpeed = 16 end
    end
end)

-- SLIDER LOGIC
local dragging = false

SliderBtn.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        dragging = true
    end
end)

UIS.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        dragging = false
    end
end)

UIS.InputChanged:Connect(function(input)
    if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
        local pos = (input.Position.X - SliderBar.AbsolutePosition.X) / SliderBar.AbsoluteSize.X
        pos = math.clamp(pos,0,1)
        SliderFill.Size = UDim2.new(pos,0,1,0)
        speedValue = math.floor(16 + (pos * 19)) -- 16 to 35
        local hum = getHumanoid()
        if speedOn and hum then
            hum.WalkSpeed = speedValue
        end
    end
end)

-- INF JUMP TOGGLE
JumpBtn.MouseButton1Click:Connect(function()
    infJump = not infJump
    if infJump then
        JumpBtn.Text = "Infinite Jump: ON"
        JumpBtn.BackgroundColor3 = Color3.fromRGB(0,255,140)
        JumpBtn.TextColor3 = Color3.fromRGB(0,0,0)
    else
        JumpBtn.Text = "Infinite Jump: OFF"
        JumpBtn.BackgroundColor3 = Color3.fromRGB(30,30,30)
        JumpBtn.TextColor3 = Color3.fromRGB(255,255,255)
    end
end)

-- INF JUMP LOGIC
UIS.JumpRequest:Connect(function()
    if infJump then
        local hum = getHumanoid()
        if hum and hum:GetState() ~= Enum.HumanoidStateType.Freefall then
            hum:ChangeState(Enum.HumanoidStateType.Jumping)
        end
    end
end)

-- RESPAWN SAFE
LP.CharacterAdded:Connect(function(char)
    task.wait(1)
    local hum = char:WaitForChild("Humanoid")
    if speedOn then hum.WalkSpeed = speedValue end
end)
